<script>
    $(document).ready(function () {

        function AddSectionItem(sectionName, divCount, sectionClass) {
            const cvId = 5;

            $(`#add-${sectionName}-item`).on("click", function () {
                const itemCount = $(`#${sectionName}-section`).find("div.mb-3").length / divCount;
               
                $.get(`/${sectionClass}/Add${sectionClass}SectionItem?itemCount=${itemCount}&cvId=${cvId}`, function (data, status) {
                    $(`#${sectionName}-section`).append(data);
                })
            })

            $(`#${sectionName}-section`).on("click", `.delete-${sectionName}`, function () {
                const id = $(this).attr("id");

                $.post(`/${sectionClass}/Delete${sectionClass}Item`, { "id": id, "cvId": cvId }, function (data, status) {
                    //window.location.reload();
                    console.log("new buttons id: " + id);
                })
            })
        }

        AddSectionItem("language", 2, "Language");
        AddSectionItem("education", 8, "Education");
        AddSectionItem("job", 6, "JobExperience");
        AddSectionItem("skill", 3, "GainedSkill");
    })
</script>